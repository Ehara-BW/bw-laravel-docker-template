# Laravel Lesson レビュー①

## Todo一覧機能

### Todoモデルのallメソッドで実行しているSQLは何か
SELECT * FROM todos

### Todoモデルのallメソッドの返り値は何か
collectionインスタンス

### 配列の代わりにCollectionクラスを使用するメリットは
メソッドチェーンが使える
可読性が高くなる

### view関数の第1・第2引数の指定と何をしているか
第1引数は使用するblade.phpのパスを記述
第2引数は配列キーを変数に変換する指定
view関数は、第1・第2引数を合成してHTMLを作成する。

### index.blade.phpの$todos・$todoに代入されているものは何か
$todos にはcollectionインスタンスが代入されている
$todo にはModelインスタンスが代入されている

## Todo作成機能

### Requestクラスのallメソッドは何をしているか
ユーザーが入力した値を連想配列で全て受け取っている。

### fillメソッドは何をしているか
allメソッドで代入した$inputsの中身を、todoインスタンスに一括代入している。

### $fillableは何のために設定しているか
代入できる項目に制限をかけ、不正なデータが取り込まれることなく安全に一括代入ができるようにするため。

### saveメソッドで実行しているSQLは何か
INSERT INTO todos (content, updated_at, created_at) VALUES ('入力値', '更新日時', '作成日時');

### redirect()->route()は何をしているか
処理完了後、ブラウザをindexページのURLへリダイレクトさせている。（二重送信を防ぐため）

## その他

### テーブル構成をマイグレーションファイルで管理するメリット
チーム開発で同じデータベース構造を共有できる。
変更の履歴管理ができる。
本番環境に安全かつ簡単に適用できる。

### マイグレーションファイルのup()、down()は何のコマンドを実行した時に呼び出されるのか
up()は、マイグレーション実行時に呼び出される。（テーブル作成やカラムの追加など）
down()は、ロールバック時に呼び出される。（変更を元に戻す）

### Seederクラスの役割は何か
空のデータテーブルに自動でデータが入った状態にしてくれる

### route関数の引数・返り値・使用するメリット
route(第1引数, 第2引数)
第1引数には ->name('')で定義した名前を入れる。
第2引数には、URLに含まれる変数を埋めるための値を入れる。基本は配列で渡す。
返り値は、完全なURL文字列となる。
使用するメリットは、保守性と可読性の向上にある。

### @extends・@section・@yieldの関係性とbladeを分割するメリット
親子関係または、箱と中身の関係。@yield（親または箱）、@exends（どの親を使うか宣言する子）、@section（子または中身）
分割するメリットは、保守性や可読性の向上、コードの共通化により同じコードを毎回記述する必要がなくなる。

### @csrfは何のための記述か
CSRF攻撃を防ぐための記述。

### {{ }}とは何の省略系か
htmlspecialchars();（エスケープ処理）の省略系